{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{collection,getDocs}from\"firebase/firestore\";import db from\"../firebase\";import{useDispatch}from\"react-redux\";import{addCart}from\"../redux/action\";import\"./Products.css\";import{Link}from\"react-router-dom\";import toast from\"react-hot-toast\";import\"animate.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var dispatch=useDispatch();var addProduct=function addProduct(product){dispatch(addCart(product));toast.success(\"Ajouté au panier !\");};useEffect(function(){var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var querySnapshot,productList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getDocs(collection(db,\"products\"));case 3:querySnapshot=_context.sent;productList=querySnapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setProducts(productList);setFilter(productList);setLoading(false);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Erreur lors de la récupération des produits:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();fetchProducts();},[]);var filterProducts=function filterProducts(category){if(category===\"Tout\"){setFilter(products);}else{setFilter(products.filter(function(product){return product.category===category;}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-5 text-center mb-4\",children:\"Nos Produits\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark mx-2\",onClick:function onClick(){return filterProducts(\"Tout\");},children:\"Tout\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark mx-2\",onClick:function onClick(){return filterProducts(\"Vêtements\");},children:\"V\\xEAtements\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark mx-2\",onClick:function onClick(){return filterProducts(\"Téléphonie\");},children:\"T\\xE9l\\xE9phonie\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark mx-2\",onClick:function onClick(){return filterProducts(\"Électronique\");},children:\"\\xC9lectronique\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-danger\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})})}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:filter.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4 animate__animated animate__fadeInUp\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm h-100 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"card-img-top p-3\",style:{height:\"300px\",objectFit:\"cover\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-muted\",children:product.description})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item lead\",children:[\"Prix : \",product.price,\" \\u20AC\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer bg-white\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),className:\"btn btn-danger m-1\",children:\"Acheter\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger m-1\",onClick:function onClick(){return addProduct(product);},children:\"Ajouter au panier\"})]})]})},product.id);})})]});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","db","useDispatch","addCart","Link","toast","jsx","_jsx","jsxs","_jsxs","Products","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","filter","setFilter","_useState5","_useState6","loading","setLoading","dispatch","addProduct","product","success","fetchProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","productList","wrap","_callee$","_context","prev","next","sent","docs","map","doc","_objectSpread","id","data","t0","console","error","stop","apply","arguments","filterProducts","category","className","children","onClick","role","src","image","alt","name","style","height","objectFit","description","price","to","concat"],"sources":["C:/Users/USER/Downloads/React_E-Commerce-main/src/components/Products.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport db from \"../firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { addCart } from \"../redux/action\";\nimport \"./Products.css\";\n\nimport { Link } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport \"animate.css\";\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [filter, setFilter] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n\n  const addProduct = (product) => {\n    dispatch(addCart(product));\n    toast.success(\"Ajouté au panier !\");\n  };\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"products\"));\n        const productList = querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setProducts(productList);\n        setFilter(productList);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Erreur lors de la récupération des produits:\", error);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  const filterProducts = (category) => {\n    if (category === \"Tout\") {\n      setFilter(products);\n    } else {\n      setFilter(products.filter((product) => product.category === category));\n    }\n  };\n\n  return (\n    <div className=\"container my-5\">\n      <h2 className=\"display-5 text-center mb-4\">Nos Produits</h2>\n      <hr />\n\n      {/* Boutons de filtrage */}\n      <div className=\"text-center mb-4\">\n        <button className=\"btn btn-outline-dark mx-2\" onClick={() => filterProducts(\"Tout\")}>\n          Tout\n        </button>\n        <button className=\"btn btn-outline-dark mx-2\" onClick={() => filterProducts(\"Vêtements\")}>\n          Vêtements\n        </button>\n        <button className=\"btn btn-outline-dark mx-2\" onClick={() => filterProducts(\"Téléphonie\")}>\n          Téléphonie\n        </button>\n        <button className=\"btn btn-outline-dark mx-2\" onClick={() => filterProducts(\"Électronique\")}>\n          Électronique\n        </button>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center my-5\">\n          <div className=\"spinner-border text-danger\" role=\"status\">\n            <span className=\"visually-hidden\">Chargement...</span>\n          </div>\n        </div>\n      ) : (\n        <div className=\"row\">\n          {filter.map((product) => (\n            <div key={product.id} className=\"col-md-4 mb-4 animate__animated animate__fadeInUp\">\n              <div className=\"card shadow-sm h-100 text-center\">\n                <img\n                  src={product.image}\n                  alt={product.name}\n                  className=\"card-img-top p-3\"\n                  style={{ height: \"300px\", objectFit: \"cover\" }}\n                />\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{product.name}</h5>\n                  <p className=\"card-text text-muted\">{product.description}</p>\n                </div>\n                <ul className=\"list-group list-group-flush\">\n                  <li className=\"list-group-item lead\">Prix : {product.price} €</li>\n                </ul>\n                <div className=\"card-footer bg-white\">\n                  <Link to={`/product/${product.id}`} className=\"btn btn-danger m-1\">\n                    Acheter\n                  </Link>\n                  <button\n                    className=\"btn btn-outline-danger m-1\"\n                    onClick={() => addProduct(product)}\n                  >\n                    Ajouter au panier\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}