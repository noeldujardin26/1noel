{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{collection,getDocs}from\"firebase/firestore\";import db from\"../firebase\";import{useDispatch}from\"react-redux\";import{addCart}from\"../redux/action\";import\"./Products.css\";import{Link}from\"react-router-dom\";import toast from\"react-hot-toast\";import\"animate.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var dispatch=useDispatch();var addProduct=function addProduct(product){dispatch(addCart(product));toast.success(\"Ajouté au panier !\");};useEffect(function(){var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var querySnapshot,productList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getDocs(collection(db,\"products\"));case 3:querySnapshot=_context.sent;productList=querySnapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setProducts(productList);setFilter(productList);setLoading(false);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Erreur lors de la récupération des produits:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();fetchProducts();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-5 text-center mb-4\",children:\"Nos Produits\"}),/*#__PURE__*/_jsx(\"hr\",{}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-danger\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})})}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:filter.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card product-card shadow-sm h-100\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"card-img-top product-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-center\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-overlay\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"Prix : \",product.price,\" \\u20AC\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-light m-1\",onClick:function onClick(){return addProduct(product);},children:\"Ajouter au panier\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),className:\"btn btn-danger m-1\",children:\"D\\xE9tails\"})]})]})},product.id);})})]});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","db","useDispatch","addCart","Link","toast","jsx","_jsx","jsxs","_jsxs","Products","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","filter","setFilter","_useState5","_useState6","loading","setLoading","dispatch","addProduct","product","success","fetchProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","productList","wrap","_callee$","_context","prev","next","sent","docs","map","doc","_objectSpread","id","data","t0","console","error","stop","apply","arguments","className","children","role","src","image","alt","name","description","price","onClick","to","concat"],"sources":["C:/Users/USER/Downloads/React_E-Commerce-main/src/components/Products.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport db from \"../firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { addCart } from \"../redux/action\";\nimport \"./Products.css\";\n\nimport { Link } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport \"animate.css\";\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [filter, setFilter] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n\n  const addProduct = (product) => {\n    dispatch(addCart(product));\n    toast.success(\"Ajouté au panier !\");\n  };\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"products\"));\n        const productList = querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setProducts(productList);\n        setFilter(productList);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Erreur lors de la récupération des produits:\", error);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  return (\n    <div className=\"container my-5\">\n      <h2 className=\"display-5 text-center mb-4\">Nos Produits</h2>\n      <hr />\n\n      {loading ? (\n        <div className=\"text-center my-5\">\n          <div className=\"spinner-border text-danger\" role=\"status\">\n            <span className=\"visually-hidden\">Chargement...</span>\n          </div>\n        </div>\n      ) : (\n        <div className=\"row\">\n          {filter.map((product) => (\n            <div key={product.id} className=\"col-md-4 mb-4\">\n              <div className=\"card product-card shadow-sm h-100\">\n                <img\n                  src={product.image}\n                  alt={product.name}\n                  className=\"card-img-top product-image\"\n                />\n                <div className=\"card-body text-center\">\n                  <h5 className=\"card-title\">{product.name}</h5>\n                </div>\n                {/* Prévisualisation dynamique */}\n                <div className=\"product-overlay\">\n                  <p className=\"product-description\">{product.description}</p>\n                  <p className=\"product-price\">Prix : {product.price} €</p>\n                  <button\n                    className=\"btn btn-outline-light m-1\"\n                    onClick={() => addProduct(product)}\n                  >\n                    Ajouter au panier\n                  </button>\n                  <Link to={`/product/${product.id}`} className=\"btn btn-danger m-1\">\n                    Détails\n                  </Link>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}