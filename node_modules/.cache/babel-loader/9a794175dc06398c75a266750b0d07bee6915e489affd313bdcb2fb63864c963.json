{"ast":null,"code":"import _toConsumableArray from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/USER/Downloads/React_E-Commerce-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Retrieve initial state from localStorage if available\nvar getInitialCart=function getInitialCart(){var storedCart=localStorage.getItem(\"cart\");return storedCart?JSON.parse(storedCart):[];};var handleCart=function handleCart(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialCart();var action=arguments.length>1?arguments[1]:undefined;var product=action.payload;var updatedCart;switch(action.type){case\"ADDITEM\":// Check if product already in cart\nvar exist=state.find(function(x){return x.id===product.id;});if(exist){// Increase the quantity\nupdatedCart=state.map(function(x){return x.id===product.id?_objectSpread(_objectSpread({},x),{},{qty:x.qty+1}):x;});}else{updatedCart=[].concat(_toConsumableArray(state),[_objectSpread(_objectSpread({},product),{},{qty:1})]);}// Update localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;case\"DELITEM\":var exist2=state.find(function(x){return x.id===product.id;});if(exist2.qty===1){updatedCart=state.filter(function(x){return x.id!==exist2.id;});}else{updatedCart=state.map(function(x){return x.id===product.id?_objectSpread(_objectSpread({},x),{},{qty:x.qty-1}):x;});}// Update localStorage\nlocalStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;default:return state;}};export default handleCart;","map":{"version":3,"names":["getInitialCart","storedCart","localStorage","getItem","JSON","parse","handleCart","state","arguments","length","undefined","action","product","payload","updatedCart","type","exist","find","x","id","map","_objectSpread","qty","concat","_toConsumableArray","setItem","stringify","exist2","filter"],"sources":["C:/Users/USER/Downloads/React_E-Commerce-main/src/redux/reducer/handleCart.js"],"sourcesContent":["// Retrieve initial state from localStorage if available\nconst getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\n\nconst handleCart = (state = getInitialCart(), action) => {\n  const product = action.payload;\n  let updatedCart;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      // Check if product already in cart\n      const exist = state.find((x) => x.id === product.id);\n      if (exist) {\n        // Increase the quantity\n        updatedCart = state.map((x) =>\n          x.id === product.id ? { ...x, qty: x.qty + 1 } : x\n        );\n      } else {\n        updatedCart = [...state, { ...product, qty: 1 }];\n      }\n      // Update localStorage\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    case \"DELITEM\":\n      const exist2 = state.find((x) => x.id === product.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter((x) => x.id !== exist2.id);\n      } else {\n        updatedCart = state.map((x) =>\n          x.id === product.id ? { ...x, qty: x.qty - 1 } : x\n        );\n      }\n      // Update localStorage\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    default:\n      return state;\n  }\n};\n\nexport default handleCart;\n"],"mappings":"6QAAA;AACA,GAAM,CAAAA,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAM,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,MAAO,CAAAF,UAAU,CAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAG,EAAE,CACjD,CAAC,CAED,GAAM,CAAAK,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAyC,IAArC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGR,cAAc,CAAC,CAAC,IAAE,CAAAW,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAClD,GAAM,CAAAE,OAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B,GAAI,CAAAC,WAAW,CAEf,OAAQH,MAAM,CAACI,IAAI,EACjB,IAAK,SAAS,CACZ;AACA,GAAM,CAAAC,KAAK,CAAGT,KAAK,CAACU,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,GAAC,CACpD,GAAIH,KAAK,CAAE,CACT;AACAF,WAAW,CAAGP,KAAK,CAACa,GAAG,CAAC,SAACF,CAAC,QACxB,CAAAA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,CAAC,MAAEI,GAAG,CAAEJ,CAAC,CAACI,GAAG,CAAG,CAAC,GAAKJ,CAAC,EACpD,CAAC,CACH,CAAC,IAAM,CACLJ,WAAW,IAAAS,MAAA,CAAAC,kBAAA,CAAOjB,KAAK,GAAAc,aAAA,CAAAA,aAAA,IAAOT,OAAO,MAAEU,GAAG,CAAE,CAAC,IAAG,CAClD,CACA;AACApB,YAAY,CAACuB,OAAO,CAAC,MAAM,CAAErB,IAAI,CAACsB,SAAS,CAACZ,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,IAAK,SAAS,CACZ,GAAM,CAAAa,MAAM,CAAGpB,KAAK,CAACU,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,GAAC,CACrD,GAAIQ,MAAM,CAACL,GAAG,GAAK,CAAC,CAAE,CACpBR,WAAW,CAAGP,KAAK,CAACqB,MAAM,CAAC,SAACV,CAAC,QAAK,CAAAA,CAAC,CAACC,EAAE,GAAKQ,MAAM,CAACR,EAAE,GAAC,CACvD,CAAC,IAAM,CACLL,WAAW,CAAGP,KAAK,CAACa,GAAG,CAAC,SAACF,CAAC,QACxB,CAAAA,CAAC,CAACC,EAAE,GAAKP,OAAO,CAACO,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,CAAC,MAAEI,GAAG,CAAEJ,CAAC,CAACI,GAAG,CAAG,CAAC,GAAKJ,CAAC,EACpD,CAAC,CACH,CACA;AACAhB,YAAY,CAACuB,OAAO,CAAC,MAAM,CAAErB,IAAI,CAACsB,SAAS,CAACZ,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,QACE,MAAO,CAAAP,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}